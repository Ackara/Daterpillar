<?xml version="1.0" encoding="utf-8" ?>
<schema xmlns="http://static.acklann.com/schema/v2/daterpillar.xsd">
  <table name="card_type">
    <column name="Id">
      <dataType>int</dataType>
    </column>

    <column name="Name">
      <dataType scale="32">varchar</dataType>
    </column>

    <index type="primaryKey">
      <columnName>Id</columnName>
    </index>

    <index type="index"
           unique="true">
      <columnName>Name</columnName>
    </index>
  </table>

  <table name="attribute">
    <column name="Id">
      <dataType>tinyInt</dataType>
    </column>

    <column name="Name">
      <dataType scale="16">varchar</dataType>
    </column>

    <index type="primaryKey">
      <columnName>Id</columnName>
    </index>

    <index type="index"
           unique="true">
      <columnName>Name</columnName>
    </index>
  </table>

  <table name="card_icon">
    <column name="Id">
      <dataType>tinyInt</dataType>
    </column>

    <column name="Name">
      <dataType scale="16">varchar</dataType>
    </column>

    <index type="primaryKey">
      <columnName>Id</columnName>
    </index>

    <index type="index"
           unique="true">
      <columnName>Name</columnName>
    </index>
  </table>

  <table name="monster_type">
    <column name="Id">
      <dataType>tinyInt</dataType>
    </column>

    <column name="Name">
      <dataType scale="32">varchar</dataType>
    </column>

    <index type="primaryKey">
      <columnName>Id</columnName>
    </index>

    <index type="index"
           unique="true">
      <columnName>Name</columnName>
    </index>
  </table>

  <table name="ability">
    <comment>Represents a monster's ability.</comment>
    <column name="Id">
      <comment>Get or set the Id. This value is a flag/it must be a power of 2.</comment>
      <dataType>int</dataType>
    </column>

    <column name="Name">
      <dataType scale="32">varchar</dataType>
    </column>

    <index type="primaryKey">
      <columnName>Id</columnName>
    </index>

    <index type="index"
           unique="true">
      <columnName>Name</columnName>
    </index>
  </table>

  <table name="card">
    <column name="Id">
      <dataType>int</dataType>
    </column>

    <column name="Name">
      <dataType scale="128">varchar</dataType>
    </column>

    <column name="Text">
      <dataType>text</dataType>
    </column>

    <column name="Pendulum_Effect">
      <dataType>text</dataType>
    </column>

    <column name="Level"
            default="0">
      <dataType>tinyInt</dataType>
    </column>

    <column name="Atk">
      <dataType>int</dataType>
    </column>

    <column name="Def">
      <dataType>int</dataType>
    </column>

    <column name="Card_Type_Id">
      <dataType>int</dataType>
    </column>

    <column name="Attribute_Id">
      <dataType>tinyInt</dataType>
    </column>

    <column name="Card_Icon_Id">
      <dataType>tinyInt</dataType>
    </column>

    <column name="Monster_Type_Id">
      <dataType>tinyInt</dataType>
    </column>

    <column name="Ability_Id">
      <dataType>int</dataType>
    </column>

    <foreignKey localColumn="Attribute_Id"
                foreignTable="attribute"
                foreignColumn="Id"
                onUpdate="CASCADE"
                onDelete="CASCADE">
    </foreignKey>

    <foreignKey localColumn="Card_Icon_Id"
                foreignTable="card_icon"
                foreignColumn="Id"
                onUpdate="CASCADE"
                onDelete="NO ACTION">
    </foreignKey>

    <foreignKey localColumn="Monster_Type_Id"
                foreignTable="monster_type"
                foreignColumn="Id"
                onUpdate="CASCADE"
                onDelete="CASCADE">
    </foreignKey>

    <index type="primaryKey">
      <columnName>Id</columnName>
    </index>

    <index type="index"
           unique="true">
      <columnName>Name</columnName>
    </index>
  </table>

  <table name="card_extras">
    <column name="Card_Id">
      <dataType>int</dataType>
    </column>

    <column name="Rulings"
            nullable="true">
      <dataType>text</dataType>
    </column>

    <column name="Tips"
            nullable="true">
      <dataType>text</dataType>
    </column>

    <column name="Trivia"
            nullable="true">
      <dataType>text</dataType>
    </column>

    <column name="Passcode">
      <dataType>int</dataType>
    </column>

    <foreignKey localColumn="Card_Id"
                foreignTable="card"
                foreignColumn="Id">
      <onUpdate>CASCADE</onUpdate>
      <onDelete>CASCADE</onDelete>
    </foreignKey>

    <index type="primaryKey">
      <columnName>Card_Id</columnName>
    </index>
  </table>

  <table name="pack">
    <column name="Id">
      <dataType>int</dataType>
    </column>

    <column name="Acronym">
      <dataType scale="32">varchar</dataType>
    </column>

    <column name="Name">
      <dataType scale="128">varchar</dataType>
    </column>

    <column name="Description">
      <dataType>text</dataType>
    </column>

    <column name="Release_Date">
      <dataType>date</dataType>
    </column>

    <column name="Size">
      <comment>The number of unique cards in the pack.</comment>
      <dataType>int</dataType>
    </column>

    <column name="Konami_Id">
      <dataType>int</dataType>
    </column>

    <index type="primaryKey">
      <columnName>Id</columnName>
    </index>

    <index type="index"
           unique="true">
      <columnName>Name</columnName>
    </index>
  </table>

  <table name="rarity">
    <column name="Id">
      <dataType>tinyInt</dataType>
    </column>

    <column name="Name">
      <dataType scale="32">varchar</dataType>
    </column>

    <column name="Code">
      <dataType scale="4">varchar</dataType>
    </column>

    <column name="Value">
      <dataType>int</dataType>
    </column>

    <index type="primaryKey">
      <columnName>Id</columnName>
    </index>

    <index type="index"
           unique="true">
      <columnName>Name</columnName>
    </index>
  </table>

  <table name="card_number">
    <column name="Pack_Acronym">
      <dataType scale="32">varchar</dataType>
    </column>

    <column name="Number">
      <dataType>smallInt</dataType>
    </column>

    <column name="Rarity_Id">
      <dataType>tinyInt</dataType>
    </column>

    <column name="Art_Index">
      <dataType>tinyInt</dataType>
    </column>

    <column name="Card_Id">
      <dataType>int</dataType>
    </column>

    <column name="Pack_Id">
      <dataType>int</dataType>
    </column>

    <foreignKey name="key_with_custom_name"
                localColumn="Rarity_Id"
                foreignTable="rarity"
                foreignColumn="Id">
    </foreignKey>

    <foreignKey localColumn="Card_Id"
                foreignTable="card"
                foreignColumn="Id">
    </foreignKey>

    <foreignKey localColumn="Pack_Id"
                foreignTable="pack"
                foreignColumn="Id">
    </foreignKey>

    <index type="primaryKey">
      <columnName>Pack_Acronym</columnName>
      <columnName>Number</columnName>
      <columnName>Rarity_Id</columnName>
      <columnName>Art_Index</columnName>
    </index>
  </table>

  <table name="effect">
    <comment>A custom table comment.</comment>
    <column name="Id"
            autoIncrement="true">
      <comment>A custom column comment.</comment>
      <dataType>int</dataType>
    </column>

    <column name="Name">
      <dataType scale="32">varchar</dataType>
    </column>

    <index type="index"
           unique="true">
      <columnName>Name</columnName>
    </index>
  </table>

  <script name="SEED DATA">
    <![CDATA[
      /* This is a System.Flag */
      INSERT INTO card_type VALUES
      (1, 'Spell'),
      (2, 'Trap'),
      (4, 'Normal'),
      (8, 'Effect'),
      (16, 'Fusion'),
      (32, 'Ritual'),
      (64, 'Synchro'),
      (128, 'Xyz'),
      (256, 'Pendulum');

      /* This is a System.Flag */
      INSERT INTO ability VALUES
      (01, 'Effect'),
      (02, 'Flip'),
      (04, 'Gemini'),
      (08, 'Spirit'),
      (16, 'Tuner'),
      (32, 'Union');

      INSERT INTO attribute VALUES
      (0, 'None'),
      (1, 'Dark'),
      (2, 'Divine'),
      (3, 'Earth'),
      (4, 'Fire'),
      (5, 'Light'),
      (6, 'Water'),
      (7, 'Wind');

      INSERT INTO card_icon VALUES
      (1, 'Continuous'),
      (2, 'Counter'),
      (3, 'Equip'),
      (4, 'Field'),
      (5, 'Normal'),
      (6, 'Quick-Play'),
      (7, 'Ritual');

      INSERT INTO monster_type VALUES
      (00, 'None'),
      (01, 'Aqua'),
      (02, 'Beast'),
      (03, 'Beast-Warrior'),
      (04, 'Dinosaur'),
      (05, 'Divine-Beast'),
      (06, 'Dragon'),
      (07, 'Fairy'),
      (08, 'Fiend'),
      (09, 'Fish'),
      (10, 'Insect'),
      (11, 'Machine'),
      (12, 'Plant'),
      (13, 'Psychic'),
      (14, 'Pyro'),
      (15, 'Reptile'),
      (16, 'Rock'),
      (17, 'Sea Serpent'),
      (18, 'Spellcaster'),
      (19, 'Thunder'),
      (20, 'Warrior'),
      (21, 'Winged Beast'),
      (22, 'Wyrm'),
      (23, 'Zombie');

      INSERT INTO rarity VALUES
      (01, 'Common', 'C', '1'),
      (02, 'Rare', 'R', '2'),
      (03, 'Gold Secret', 'GS', '2'),
      (04, 'Gold Rare', 'GR', '2'),
      (05, 'Super Rare', 'SR', '3'),
      (06, 'Holographic', 'HR', '3'),
      (07, 'Secret Rare', 'SE', '5'),
      (08, 'Ultra Rare', 'UR', '6'),
      (09, 'Ultimate Rare', 'UL', '7'),
      (10, 'Ghost Rare', 'GH', '8'),
      (11, 'Hobby', 'H', '5'),
      (12, 'Shattefoil', 'SH', '6'),
      (13, 'Starfoil', 'ST', '6'),
      (14, 'Platinum Secret Rare', 'PS', '8');
    ]]>
  </script>
</schema>