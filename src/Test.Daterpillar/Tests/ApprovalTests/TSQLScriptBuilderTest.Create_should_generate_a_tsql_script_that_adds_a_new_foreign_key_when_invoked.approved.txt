IF NOT EXISTS (SELECT * FROM [sys].[foreign_keys] WHERE [name]='tbl1_CategoryId_TO_tbl2_Id_fx1' AND [parent_object_id]=OBJECT_ID('daterpillar1.dbo.tbl1')) ALTER TABLE [daterpillar1].[dbo].[tbl1] WITH CHECK ADD CONSTRAINT [tbl1_CategoryId_TO_tbl2_Id_fx1] FOREIGN KEY ([CategoryId]) REFERENCES [daterpillar1].[dbo].[tbl2] ([Id]) ON UPDATE CASCADE ON DELETE CASCADE;
